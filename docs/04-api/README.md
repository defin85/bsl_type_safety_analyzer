# API Reference

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≤—Å–µ–º API BSL Type Safety Analyzer.

## üìö –†–∞–∑–¥–µ–ª—ã

### [Rust API](./rust-api.md)
- Core –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ API
- UnifiedBslIndex –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ü–∞—Ä—Å–µ—Ä—ã –∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏

### [CLI API](./cli-api.md)
- –ö–æ–º–∞–Ω–¥—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ñ–ª–∞–≥–∏
- –§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### [MCP API](./mcp-api.md)
- Model Context Protocol
- JSON-RPC –º–µ—Ç–æ–¥—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### CLI
```bash
# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞
bsl-analyzer index --config /path/to/config

# –ü–æ–∏—Å–∫ —Ç–∏–ø–∞
bsl-analyzer find "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
bsl-analyzer syntaxcheck file.bsl
```

### Rust
```rust
use bsl_analyzer::unified_index::{UnifiedIndexBuilder, UnifiedBslIndex};

// –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞
let builder = UnifiedIndexBuilder::new()?;
let index = builder.build_index(&config_path, "8.3.25")?;

// –ü–æ–∏—Å–∫ —Ç–∏–ø–∞
if let Some(entity) = index.find_entity("–¢–∞–±–ª–∏—Ü–∞–ó–Ω–∞—á–µ–Ω–∏–π") {
    println!("Methods: {}", entity.interface.methods.len());
}
```

### MCP
```json
{
  "jsonrpc": "2.0",
  "method": "tools/call",
  "params": {
    "name": "find_type",
    "arguments": {
      "type_name": "–î–æ–∫—É–º–µ–Ω—Ç—ã.–ó–∞–∫–∞–∑"
    }
  },
  "id": 1
}
```

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### BslEntity
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ª—é–±–æ–≥–æ BSL —Ç–∏–ø–∞:
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã (–ú–∞—Å—Å–∏–≤, –°—Ç—Ä—É–∫—Ç—É—Ä–∞)
- –û–±—ä–µ–∫—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏, –î–æ–∫—É–º–µ–Ω—Ç—ã)
- –§–æ—Ä–º—ã –∏ –∏—Ö —ç–ª–µ–º–µ–Ω—Ç—ã
- –ú–æ–¥—É–ª–∏ —Å —ç–∫—Å–ø–æ—Ä—Ç–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏

### UnifiedBslIndex
–ï–¥–∏–Ω—ã–π –∏–Ω–¥–µ–∫—Å –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å:
- O(1) –ø–æ–∏—Å–∫–æ–º –ø–æ –∏–º–µ–Ω–∏
- –ì—Ä–∞—Ñ–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞
- **JSON** - –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **Human** - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **LSP** - –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å IDE
- **SARIF** - –¥–ª—è CI/CD